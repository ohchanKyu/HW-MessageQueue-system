# MessageQueue-System

## HW κ°μ”
ν•΄λ‹Ή μ–΄ν”λ¦¬μΌ€μ΄μ…μ€ Pythonκ³Ό ZeroMQλ¥Ό κΈ°λ°μΌλ΅ μ„¤κ³„λμ—μΌλ©°, <br>
λ‘ κ°€μ§€ μ£Όμ” ν†µμ‹  ν¨ν„΄μ„ ν™μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μƒνΈμ‘μ©μ„ μ§€μ›ν•©λ‹λ‹¤. <br>
λ‘ κ°€μ§€μ ν†µμ‹  ν¨ν„΄μ€ Request-Replyμ™€ Publish-Subscribe ν¨ν„΄μ΄λ©°, <br>
μ΄λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ™€ μ”μ²­-μ‘λ‹µμ„ μ£Όκ³ λ°›μΌλ©° μ΄κΈ° μ„¤μ •μ„ κµ¬μ„±ν•κ³ , <br>
κµ¬λ…μ„ ν†µν• μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ μμ‹  λ° μ΄λ©”μΌμ„ ν†µν•΄ μ—…λ°μ΄νΈ λ‚΄μ—­μ„ λ°›μ„ μ μμµλ‹λ‹¤. <br>

<br>

## ZeroMQ κΈ°λ° λ©”μ‹μ§• μ‹μ¤ν… κµ¬μ„±
#### Request-Reply + Publish-Subscribe ν¨ν„΄ κ²°ν•©
μ΄ μ• ν”λ¦¬μΌ€μ΄μ…μ€ Request-Replyλ΅ μ΄κΈ° μ„¤μ • μ”μ²­μ„ λ°›κ³ , <br>
Publish-Subscribeλ¥Ό ν†µν•΄ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈλ¥Ό μμ‹ ν•λ” κµ¬μ΅°μ…λ‹λ‹¤. <br>
λ‘ ν¨ν„΄μ€ μ„λ΅ λ‹¤λ¥Έ ν¬νΈλ¥Ό μ‚¬μ©ν•΄ λ…λ¦½μ μΌλ΅ λ™μ‘ν•λ©°, ZeroMQμ ν¨ν„΄μ„ ν¨μ¨μ μΌλ΅ μµμ ν™”ν•©λ‹λ‹¤. <br>

<br>

#### λΉ„λ™κΈ° μ „μ†΅μΌλ΅ μ‹¤μ‹κ°„ μ•λ¦Ό μµμ ν™”
ZeroMQλ” λΉ„λ™κΈ° λ©”μ‹μ§•μ„ μ§€μ›ν•μ—¬, μ„λ²„κ°€ λ‹¤μμ κµ¬λ…μμ—κ² μ‹¤μ‹κ°„μΌλ΅ μ½ν…μΈ  λ³€κ²½ μ‚¬ν•­μ„ λΉ λ¥΄κ² μ „λ‹¬ν•©λ‹λ‹¤. <br>
κµ¬λ…μκ°€ λ§μ•„μ Έλ„ μ„λ²„ λ¶€ν•κ°€ μ κ³  λ€κΈ° μ‹κ°„μ΄ μ§§μ•„ μ‹¤μ‹κ°„ μ•λ¦Ό μ‹μ¤ν…μ— μµμ ν™”λμ–΄ μμµλ‹λ‹¤. <br>

<br>

#### μ£Όμ  κΈ°λ° ν•„ν„°λ§ μ§€μ›
ZeroMQμ PUB-SUB κµ¬μ΅°λ” μ£Όμ  κΈ°λ° ν•„ν„°λ§μ„ μ§€μ›ν•©λ‹λ‹¤. <br>
κµ¬λ…μλ” μ›ν•λ” μ£Όμ λ§ μ„ νƒν•΄ ν•„μ”ν• λ°μ΄ν„°λ§ μμ‹ ν•λ―€λ΅, <br>
λ„¤νΈμ›ν¬ ν¨μ¨μ„±κ³Ό μ‚¬μ©μ λ§μ¶¤ κ²½ν—μ„ λ¨λ‘ λ‹¬μ„±ν•  μ μμµλ‹λ‹¤. <br>

<br>

## **Directory**
```
π“¦MessageQueueClient
 β”— π“main.py
π“¦MessageQueueServer
 β”£ π“EmailHandler.py
 β”£ π“main.py
 β”£ π“StoreContext.py
 β”£ π“ZmqPublisher.py
 β”— π“ZmqServer.py
```

<br>

## μ• ν”λ¦¬μΌ€μ΄μ… μ‹λ‚λ¦¬μ¤

**1οΈβƒ£ Request-Reply ν¨ν„΄: μ΄κΈ° μ„¤μ • λ° κµ¬λ… μ”μ²­** <br>
ν΄λΌμ΄μ–ΈνΈλ” Request-Reply ν¨ν„΄μ„ ν†µν•΄ μ„λ²„μ— μ—°κ²°ν•μ—¬ λ‹¤μ μ‘μ—…μ„ μν–‰ν•©λ‹λ‹¤ <br>
- κµ¬λ… κ°€λ¥ν• μ½ν…μΈ  λ©λ΅ μ΅°ν <br>
- μ½ν…μΈ  κµ¬λ… μ‹ μ²­ <br>
- μ΄λ©”μΌ μ£Όμ† λ“±λ΅ <br>

ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— λ€ν•΄ μ„λ²„λ” μμ°¨μ μΌλ΅ μ‘λ‹µμ„ λ°ν™ν•λ©°, μ΄κΈ° μ„¤μ •μ„ λ§λ¬΄λ¦¬ν•©λ‹λ‹¤. <br>

<br>

**2οΈβƒ£ Publish-Subscribe ν¨ν„΄: μ‹¤μ‹κ°„ μ½ν…μΈ  μ—…λ°μ΄νΈ** <br>
μ‚¬μ©μκ°€ μ½ν…μΈ λ¥Ό κµ¬λ…ν•λ©΄, ν΄λΌμ΄μ–ΈνΈλ” SUB μ†μΌ“μ„ λ³„λ„ μ¤λ λ“λ΅ μ‹¤ν–‰ν•κ³ , <br>
μ„λ²„μ PUB μ†μΌ“κ³Ό μ—°κ²°ν•μ—¬ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈλ¥Ό μμ‹ ν•©λ‹λ‹¤. <br>
- μ„λ²„λ” μ½ν…μΈ μ— λ³€ν™”κ°€ μμ„ λ•λ§λ‹¤ PUBLISH λ©”μ‹μ§€ μ „μ†΅ <br>
- ν΄λΌμ΄μ–ΈνΈλ” ν•΄λ‹Ή μ½ν…μΈ μ— λ€ν•΄ λΉ„λ™κΈ°μ μΌλ΅ λ©”μ‹μ§€λ¥Ό μμ‹  <br>
- κ° κµ¬λ…μλ” μμ‹ μ κ΄€μ‹¬ μ£Όμ μ—λ§ λ°μ‘ν•λ„λ΅ κµ¬μ„±λ¨ <br>

<br>

**3οΈβƒ£ μ΄λ©”μΌ μ•λ¦Ό μ„λΉ„μ¤** <br>
κµ¬λ…μκ°€ λ“±λ΅ν• μ΄λ©”μΌμ„ κΈ°λ°μΌλ΅, μ½ν…μΈ μ— λ³€κ²½μ΄ λ°μƒν•  κ²½μ° μ΄λ©”μΌ μ•λ¦Όμ΄ λ°μ†΅λ©λ‹λ‹¤. <br>
- μ„λ²„λ” μ—…λ°μ΄νΈ λ°μƒ μ‹ μ΄λ©”μΌ λ°μ†΅μ„ μ„ν• λ©”μ‹μ§€λ¥Ό μ²λ¦¬ <br>
- EmailHandler ν΄λμ¤λ¥Ό ν†µν•΄ SMTPλ΅ μ΄λ©”μΌ μ „μ†΅ <br>
- κµ¬λ…μλ” μ΄λ©”μΌμ„ ν†µν•΄ μ½ν…μΈ  λ³€κ²½ μ‚¬ν•­μ„ μ‹¤μ‹κ°„μΌλ΅ ν™•μΈ κ°€λ¥ <br>

<br>

## **Settings**
### Ubuntu κΈ°λ³Έ ν™κ²½ κµ¬μ¶•
#### μ‚¬μ©μ ν™ λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ λ° ν¨ν‚¤μ§€ λ©λ΅ μ—…λ°μ΄νΈ
```Bash
cd ~
sudo apt update
```
#### Python pip / zeroMQ μ„¤μΉ
```Bash
sudo apt-get install python3-pip
pip3 install pyzmq
```
#### ν”„λ΅μ νΈ clone λ° ν•΄λ‹Ή ν”„λ΅μ νΈλ΅ μ΄λ™
```Bash
git clone https://github.com/ohchanKyu/HW-MessageQueue-system.git
cd ./HW-MessageQueue-system
```

<br>

### μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰
#### μ„λ²„ μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰
```Bash
python3 ./MessageQueueServer/main.py
```
#### ν΄λΌμ΄μ–ΈνΈ μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰
```Bash
python3 ./MessageQueueClient/main.py
```

<br>

## **Test Application**
**[ν΄λΌμ΄μ–ΈνΈ μ΄κΈ° ν™”λ©΄]** <br>
![image](https://github.com/user-attachments/assets/3c0a4728-7e6c-4159-ac12-fdf159e9e34d)

<br>

**[ν΄λΌμ΄μ–ΈνΈ Command 1λ²]** <br>
- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² κµ¬λ… κ°€λ¥ν• λ¦¬μ¤νΈ μ”μ²­
- μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² λ¦¬μ¤νΈ λ©”μ„Έμ§€λ΅ μ‘λ‹µ
![image](https://github.com/user-attachments/assets/a233e9c8-11f7-4448-822a-0ad96d4c8963)
- λ¦¬μ¤νΈ μ”μ²­μ„ λ°›μ€ μ„λ²„μ½ μ¶λ ¥
![image](https://github.com/user-attachments/assets/510ce449-8f7b-4d85-9440-201035906287)

<br>

**[ν΄λΌμ΄μ–ΈνΈ Command 2λ²]** <br>
- μ„λ²„μ—κ² κµ¬λ…μ„ μ”μ²­ ( SpringBoot / NodeJs / React / Django μ¤‘ 1κ°€μ§€ μ„ νƒ )
- κµ¬λ…ν•  Subjectμ™€ μ΄λ©”μΌ μ…λ ¥
- μ„λ²„λ” ν•΄λ‹Ή Subjectμ™€ Emailμ„ μ „λ‹¬λ°›κ³  μ‘λ‹µ λ©”μ„Έμ§€λ¥Ό μƒμ„±
- λ©”μ‹μ§€ μ‘λ‹µμΌλ΅ κµ¬λ…ν• Subject λ° Subjectμ— λ€ν• Contentλ¥Ό μ „λ‹¬
![image](https://github.com/user-attachments/assets/8225dd8b-aef5-46ee-a7f5-d8cebb4a78b4)
- κµ¬λ… μ”μ²­μ„ λ°›μ€ μ„λ²„μ½ μ¶λ ¥
![image](https://github.com/user-attachments/assets/cdbaa68f-c158-4e27-a002-6788ea0ab24a)

<br>

**[ν΄λΌμ΄μ–ΈνΈ Command 3λ²]** <br>
ο»Ώ- ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ κµ¬λ…ν• Subjectμ— λ€ν•΄ λ‚΄μ©μ„ μ¶”κ°€
- μ„λ²„μΈ΅μ—μ„λ” ν•΄λ‹Ή μ”μ²­μ„ λ°›κ³ , λ¨λ“  κµ¬λ…μλ“¤μ—κ² λ©”μ‹μ§€ μ „λ‹¬ λ° μ΄λ©”μΌ μ „μ†΅
![image](https://github.com/user-attachments/assets/abeeec1a-a51a-4194-a23a-731d187c44c8)
- μ‹¤μ λ΅ λ°›μ€ μ΄λ©”μΌ ν™”λ©΄
![image](https://github.com/user-attachments/assets/553b2d6b-a0b0-4b2e-bf78-ec63dba0b426)

<br>

**[ν΄λΌμ΄μ–ΈνΈ Command 4λ²]** <br>
- ν΄λΌμ΄μ–ΈνΈμ—κ² κΈ°μ΅΄μ λ©”λ‰΄λ¥Ό λ‹¤μ‹ μ¶λ ¥
![image](https://github.com/user-attachments/assets/e22aa1a5-535e-41b6-9b01-0e737e4fbc69)

<br>

**[ν΄λΌμ΄μ–ΈνΈ Command q μ…λ ¥]** <br>
- ν΄λΌμ΄μ–ΈνΈ ν”„λ΅κ·Έλ¨ μΆ…λ£
![image](https://github.com/user-attachments/assets/a6d1f4d0-5ba0-405f-bf9f-8b50d7dff930)
- ν΄λΌμ΄μ–ΈνΈ ν”„λ΅κ·Έλ¨ μΆ…λ£ μ‹ μ„λ²„ μΈ΅ μ¶λ ¥
![image](https://github.com/user-attachments/assets/2b296c99-27c1-4502-9bf4-3ad1d6de6add)

